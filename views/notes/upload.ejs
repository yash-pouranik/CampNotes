<style>

</style>


<link rel="stylesheet" href="/css/eachNoteCss.css">

<div class="upload-form-container">
  <h2>ðŸ“¤ Upload New Note</h2>
  <form action="/upload" method="POST" enctype="multipart/form-data">
    
    <div class="form-group">
      <label for="title">Title *</label>
      <input type="text" name="title" id="title" required>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea name="description" id="description" rows="3"></textarea>
    </div>

    <div class="form-group">
      <label for="subject">Subject *</label>
      <select name="subject" id="subject" required>
        <option value="">-- Select Subject --</option>
        <% subjects.forEach(sub => { %>
          <option value="<%= sub._id %>"><%= sub.name %></option>
        <% }) %>
        <option value="other">âž• Add New Subject</option>
      </select>
    </div>

    <!-- Hidden input for new subject -->
    <div class="form-group" id="newSubjectGroup" style="display:none;">
      <label for="newSubject">New Subject Name *</label>
      <input type="text" name="newSubject" id="newSubject" placeholder="Enter new subject">
</div>

    <div class="form-group">
      <label for="course">Course *</label>
      <select name="course" id="course" required>
        <option value="">-- Select Course --</option>
        <% courses.forEach(course => { %>
          <option value="<%= course %>"><%= course %></option>
        <% }) %>
      </select>
    </div>

    <div class="form-group">
      <label for="visibility">Visibility *</label>
      <select name="visibility" id="visibility" required>
        <option value="public">Public</option>
        <option value="private">Private</option>
      </select>
    </div>

    <div class="form-group">
      <label for="file">Upload File *</label>
      <input type="file" name="file" id="file" accept=".pdf,.jpg,.jpeg,.png" required>
    </div>

    <button type="submit" class="form-submit-btn">Upload Note</button>
  </form>
</div>




<script>
  document.getElementById("subject").addEventListener("change", function() {
    document.getElementById("newSubjectGroup").style.display = 
      this.value === "other" ? "block" : "none";
  });
</script>