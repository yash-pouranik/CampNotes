<style>

</style>

<link rel="stylesheet" href="/css/eachNoteCss.css">

<div class="upload-form-container">
  <h2>✏️ Edit Note</h2>
  <form action="/notes/<%= note._id %>?_method=PUT" method="POST">
    
    <div class="form-group">
      <label for="title">Title *</label>
      <input type="text" name="title" id="title" value="<%= note.title %>" required>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea name="description" id="description" rows="3"><%= note.description %></textarea>
    </div>

    <div class="form-group">
      <label for="subject">Subject *</label>
      <select name="subject" id="subject" required>
        <% subjects.forEach(sub => { %>
          <option value="<%= sub._id %>" <%= note.subject && note.subject._id.toString() === sub._id.toString() ? 'selected' : '' %>>
            <%= sub.name %>
          </option>
        <% }) %>
      </select>
    </div>

    <div class="form-group">
      <label for="course">Course *</label>
      <select name="course" id="course" required>
        <% courses.forEach(course => { %>
          <option value="<%= course %>" <%= note.course === course ? 'selected' : '' %>>
            <%= course %>
          </option>
        <% }) %>
      </select>
    </div>

    <div class="form-group">
      <label for="visibility">Visibility *</label>
      <select name="visibility" id="visibility" required>
        <option value="public" <%= note.visibility === 'public' ? 'selected' : '' %>>Public</option>
        <option value="private" <%= note.visibility === 'private' ? 'selected' : '' %>>Private</option>
      </select>
    </div>

    <button type="submit" class="form-submit-btn">Update Note</button>
  </form>
</div>
